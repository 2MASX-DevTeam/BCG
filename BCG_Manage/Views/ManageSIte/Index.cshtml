@model BCG_DB.Entity.MultiLanguageEntity.MultiLanguageModel

@{
    ViewBag.Title = "Admin BC-VIT.BG";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<!-- Content Header (Page header) -->
<section class="content-header">
    <h1>
        Welcome!
        <small>Control panel </small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="~/Admin"><i class="fa fa-dashboard"></i> Home</a></li>

    </ol>
</section>

<!-- Main content -->
<section class="content">
    <div class="row">
        <div class="col-md-4">
            <!-- small box -->
            @using (Ajax.BeginForm("UniqueVisitors", null,
                  new AjaxOptions
                  {
                      UpdateTargetId = "smallboxesresult",
                      InsertionMode = InsertionMode.Replace,
                      OnBegin = "OnAjaxRequestBegin",
                      OnComplete = "OnAjaxRequestComplete",
                      HttpMethod = "POST"
                  }, new { @class = "small-box bg-green", id = "uniqueVisitorsForm" }))
            {
            <div class="inner">
                <h3>65</h3>
                <p>Unique Visitors</p>
            </div>
            <div class="icon">
                <i class="ion ion-pie-graph"></i>
            </div>
            <a type="submit" href="#" class="columns small-box-footer" onclick="submitFormVisitors()">
                More info
                <i class="fa fa-arrow-circle-right"></i>
            </a>

            }
        </div>

        <div class="col-md-4">

            @using (Ajax.BeginForm("UserRegistrations", null,
                              new AjaxOptions
                              {
                                  UpdateTargetId = "smallboxesresult",
                                  OnBegin = "OnAjaxRequestBegin",
                                  InsertionMode = InsertionMode.Replace,
                                  OnComplete = "OnAjaxRequestComplete",
                                  HttpMethod = "POST"
                              }, new { @class = "small-box bg-green", id = "UserRegistrations" }))
            {
                <div class="columns small-box bg-yellow">
                    <div class="inner">
                        <h3>44</h3>
                        <p>User Registrations</p>
                    </div>
                    <div class="icon">
                        <i class="ion ion-person-add"></i>
                    </div>
                    <a href="#" class="columns small-box-footer" onclick="submitFormUserReg()">
                        More info <i class="fa fa-arrow-circle-right"></i>
                    </a>
                </div>
            }
        </div>


        <div class="col-md-4">


            @using (Ajax.BeginForm("NewOrders", null,
                                          new AjaxOptions
                                          {
                                              UpdateTargetId = "smallboxesresult",
                                              OnBegin = "OnAjaxRequestBegin",
                                              InsertionMode = InsertionMode.Replace,
                                              OnComplete = "OnAjaxRequestComplete",
                                              HttpMethod = "POST"
                                          }, new { @class = "small-box bg-green", id = "newOrders" }))
            {
                <div class="columns small-box bg-aqua">
                    <div class="inner">
                        <h3>150</h3>
                        <p>New Orders</p>
                    </div>
                    <div class="icon">
                        <i class="fa fa-shopping-cart"></i>
                    </div>
                    <a href="#" class="columns small-box-footer" onclick="submitFormNewOrders()">
                        More info <i class="fa fa-arrow-circle-right"></i>
                    </a>
                </div>

            }
        </div>


    </div>
    <!-- Default box -->
    <div class="row"> <div id="smallboxesresult" class="col-md-12" style="display: none;"> </div> </div>

    <div class="row">
        <div class="col-md-12">
            <div class="box">
                <div class="box-header with-border">
                    <h3 class="box-title">Monthly Order Report</h3>
                    <div class="box-tools pull-right">
                        <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>

                        <button class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                    </div>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <div class="row">
                        <div class="col-md-8">
                            <p class="text-center">
                                <strong>Sales: 1 Jan, 2014 - 30 Jul, 2014</strong>
                            </p>
                            <div class="chart">
                                <!-- Sales Chart Canvas -->
                                <canvas id="salesChart" style="height: 180px;"></canvas>
                            </div><!-- /.chart-responsive -->
                        </div><!-- /.col -->
                        <div class="col-md-4">
                            <p class="text-center">
                                <strong>Goal Completion</strong>
                            </p>
                            <div class="progress-group">
                                <span class="progress-text">Add Products to Cart</span>
                                <span class="progress-number"><b>160</b>/200</span>
                                <div class="progress sm">
                                    <div class="progress-bar progress-bar-aqua" style="width: 80%"></div>
                                </div>
                            </div><!-- /.progress-group -->
                            <div class="progress-group">
                                <span class="progress-text">Complete Purchase</span>
                                <span class="progress-number"><b>310</b>/400</span>
                                <div class="progress sm">
                                    <div class="progress-bar progress-bar-red" style="width: 40%"></div>
                                </div>
                            </div><!-- /.progress-group -->
                            <div class="progress-group">
                                <span class="progress-text">Visit Premium Page</span>
                                <span class="progress-number"><b>480</b>/800</span>
                                <div class="progress sm">
                                    <div class="progress-bar progress-bar-green" style="width: 60%"></div>
                                </div>
                            </div><!-- /.progress-group -->
                            <div class="progress-group">
                                <span class="progress-text">Send Inquiries</span>
                                <span class="progress-number"><b>250</b>/500</span>
                                <div class="progress sm">
                                    <div class="progress-bar progress-bar-yellow" style="width: 80%"></div>
                                </div>
                            </div><!-- /.progress-group -->
                        </div><!-- /.col -->
                    </div><!-- /.row -->
                </div><!-- ./box-body -->

            </div><!-- /.box -->
        </div><!-- /.col -->
    </div><!-- /.row -->

    <div class="row">


        <div class="col-md-12">
            <div class="box">
                <div class="box-header">
                    <h3 class="box-title">Actve languages: </h3>
                    <div class="box-tools pull-right">
                        <button class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip" title="Collapse"><i class="fa fa-minus"></i></button>
                        <button class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="Remove"><i class="fa fa-times"></i></button>
                    </div>
                </div><!-- /.box-header -->

                <div class="box-body table-responsive no-padding">
                    <table class="table table-hover">
                        <tr>
                            <th>ID</th>
                            <th>Language</th>
                            <th>Culture</th>
                            <th>Initials</th>
                            <th>Status</th>
                            <th>Picture</th>

                        </tr>
                        @{
                            var model = Model.tblLanguages.Where(m => m.IsActive == true);
                        }

                        @foreach (var row in model)
                        {
                        <tr>
                            <td>@row.IdLanguage</td>
                            <td>@row.Language</td>
                            <td>@row.Culture</td>
                            <td>@row.Initials</td>

                            @if (row.IsActive)
                                {
                            <td><span class="label label-success">Approved</span></td>
                                }
                                else
                                {
                            <td><span class="label label-danger">Denied</span></td>
                                }

                            <td> <img src="@Url.Action("ShowImageForLanguages", "Base", new { id = row.IdLanguage } )" height="30" width="60" /> </td>


                        </tr>
                        }
                    </table>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
        </div>
    </div>


</section><!-- /.content -->


@section Scripts {
    <script>
        function OnAjaxRequestBegin() {
            if ($("#smallboxesresult").children().length > 0) {
                $("#smallboxesresult").animate({
                    left: '100%',
                    opacity: 0
                });
            };
        };


        function submitFormVisitors() {
            $("#uniqueVisitorsForm").submit();
        };

        function submitFormUserReg() {
            $("#UserRegistrations").submit();
        };

        function submitFormNewOrders() {
            $("#newOrders").submit();
        }

        function OnAjaxRequestComplete(request, status) {
            $("#smallboxesresult").animate({
                left: 0,
                opacity: 1
            }, function () {
                $("#smallboxesresult").show();
            });
        };

    </script>

    @Scripts.Render("~/Scripts/IndexChart.es5.min.js")
}